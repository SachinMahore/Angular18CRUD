<div class="container">
    <h1>Angular 18 CRUD Example - Sachin Mahore</h1>
    <h2>Add Club</h2>
    <form [formGroup]="form" (ngSubmit)="submit()">
        <input type="hidden" formControlName="id" id="id" value="0" class="form-control">  
        <div class="form-group">
            <label for="clubName">Club Name:</label>
            <input 
                formControlName="clubName"
                id="clubName" 
                type="text" 
                class="form-control">   
                <div *ngIf="clubName?.invalid && (clubName?.touched || clubName?.dirty)" class="text-danger">
                    <div *ngIf="clubName?.errors?.['required']">Club name is required.</div>
                    <div *ngIf="clubName?.errors?.['minlength']">Club name must be at least 3 characters long.</div>
                  </div>    
        </div>
  
        <div class="form-group">
            <label for="country">Country</label>
            <input 
                formControlName="country"
                id="country" 
                type="text" 
                class="form-control"/>
        </div>
        <div class="form-group">
            <label for="yearFounded">Year Founded</label>
            <input 
                formControlName="yearFounded"
                id="yearFounded" 
                type="text" 
                class="form-control"/>
        </div>
        <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Submit</button>
    </form>
<table class="table table-striped">
    <thead>
          <tr>
            <th>ID</th>
            <th>Club Name</th>
            <th>Year Founded</th>
            <th>Country</th>
            <th>Action</th>
          </tr>
    </thead>
    <tbody>
          <tr *ngFor="let club of clubs" (click)="selectClub(club)" [class.selected]="club === club">
            <td>{{ club.id }}</td>
            <td>{{ club.clubName }}</td>
            <td>{{ club.yearFounded }}</td>
            <td>{{ club.country }}</td>
            <td>
                <a href="#" [routerLink]="['/club/', club.id, 'details']" class="btn btn-info">View</a>
                <button type="button" (click)="deletePost(club.id)" class="btn btn-danger">Delete</button>
            </td>
          </tr>
    </tbody>
</table>


</div>